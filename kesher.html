<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>צור קשר - יוז'וק מדיק</title>

  <!-- גופן Heebo -->
  <link href="https://fonts.googleapis.com/css2?family=Heebo&display=swap" rel="stylesheet" />

  <!-- CSS -->
  <link rel="stylesheet" href="style2.css?v=5" />
</head>
<body>

  <!-- באנר עליון -->
  <a href="tel:+972533562608" class="top-banner">ליצירת קשר: רפי 053-3562608</a>

  <div class="container">

    <h1 class="page-title">צור קשר</h1>

    <form id="contactForm" novalidate>
      <div class="form-group">
        <label for="name">שם מלא<span class="required">*</span></label>
        <input type="text" id="name" name="name" required minlength="4" />
        <span class="error-message"></span>
      </div>

      <div class="form-group">
        <label for="phone">טלפון<span class="required">*</span></label>
        <input type="tel" id="phone" name="phone" required pattern="^05\d{8}$" />
        <span class="error-message"></span>
      </div>

      <div class="form-group">
        <label for="email">אימייל<span class="required">*</span></label>
        <input type="email" id="email" name="email" required />
        <span class="error-message" id="emailError"></span>
      </div>

      <div class="form-group">
        <label for="area">איזור בארץ<span class="required">*</span></label>
        <input type="text" id="area" name="area" required minlength="2" />
        <span class="error-message"></span>
      </div>

      <div class="form-group">
        <label for="message">הודעה<span class="required">*</span></label>
        <textarea id="message" name="message" rows="5" required minlength="5"></textarea>
        <span class="error-message"></span>
      </div>

      <button type="submit" id="sendBtn" class="btn-submit">
        <i class="fas fa-paper-plane"></i> שלח
      </button>
    </form>

    <div id="formResponse" class="form-response"></div>
  </div>

  <!-- כפתורי צד צפים עם אייקוני SVG מוטמעים -->
  <div class="side-buttons">
    <a href="https://wa.me/972533562608" target="_blank" class="side-btn whatsapp" aria-label="וואטסאפ" title="וואטסאפ">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="currentColor" aria-hidden="true" focusable="false">
        <path d="M380.9 97.1C339-2 261.8-13 198 21c-63.8 34-91.1 106-74.5 165.8l-39 112.7 115-40.2c22.6 12.3 47.3 21 73 25.6 63.8 11 132.7-35.6 147.3-113.8 6.5-38.8-4.7-74.4-20.9-101.2zm-101.2 184.7c-6.8 3.7-14.2 6.3-22.1 7.7-7.7 1.3-16.3.6-25-2l-15-4.4-35.7 12.5-23.8-26 36.1-41.3-9.3-14.1c-2.7-4-6.7-7.5-12-10.5-4.9-2.8-8.8-3.7-11.8-2.9-3.8 1-7.9 3.9-12.2 9-8 10.3-11 20.2-9 29.7 1.9 9 6.2 19.6 13.8 31.7l30.7 50.2 43-15.3c13.4 7.8 28 13.3 43.2 16.5 15.4 3.3 30.7 2.9 44.8-1.2 15.7-4.5 29.3-13.8 40.5-27.9 13.1-16.6 19-38.7 17.2-65.2-1.9-26.8-14.5-54.4-36.8-82-14.5-18.7-31.6-33-50.5-42.9-11.3-5.9-23.7-9-37-9-14.7 0-29 5.1-42.5 15.1-12.4 8.9-21.5 20.9-27.3 36.2-3.6 10-4.2 18.7-1.8 26 1.7 5.1 5.3 10.7 10.7 17.1l14.1 17.8 29.1-11.7c9.2-3.7 18.4-7.1 27.8-10.4l-11.3-38z"/>
      </svg>
    </a>

    <a href="tel:+972533562608" class="side-btn phone" aria-label="טלפון" title="טלפון">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor" aria-hidden="true" focusable="false">
        <path d="M511.6 387.1c-1.6-9.8-8.4-18.4-17.9-22.3l-114-51.7c-11.2-5-24.4-1.8-32.7 7.7l-53.6 64.7c-45.6-23.6-82.5-60.5-106.1-106.1l64.7-53.6c9.5-8.3 12.7-21.5 7.7-32.7l-51.7-114c-3.9-9.5-12.5-16.3-22.3-17.9-11.5-1.9-22.8 5.3-27.6 16.2l-36 84.9c-5.4 12.8-3.4 27.8 5.7 38.7l65.1 81.3c-1.4 13.3-2.1 26.7-2.1 40.2 0 77.7 62.9 140.7 140.7 140.7 13.5 0 26.9-.7 40.2-2.1l81.3 65.1c10.9 9.1 25.9 11.1 38.7 5.7l84.9-36c10.9-4.8 18.1-16.1 16.2-27.6z"/>
      </svg>
    </a>

    <a href="mailto:yuzukmedik@gmail.com" class="side-btn mail" aria-label="מייל" title="מייל">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor" aria-hidden="true" focusable="false">
        <path d="M502.3 190.8l-192-160a48 48 0 00-60.6 0l-192 160A48 48 0 0032 224v208a48 48 0 0048 48h352a48 48 0 0048-48V224a48 48 0 00-13.7-33.2zM464 400a16 16 0 01-16 16H64a16 16 0 01-16-16v-81.3l164.2-137a32 32 0 0143.6 0L464 318.7V400z"/>
      </svg>
    </a>
  </div>

  <!-- JS שליחת טופס עם ולידציה למייל -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

  <script>
    emailjs.init("miOp6iToFLfbH1jk5");

    const form = document.getElementById("contactForm");
    const btn = document.getElementById("sendBtn");
    const response = document.getElementById("formResponse");
    const emailInput = document.getElementById("email");
    const emailError = document.getElementById("emailError");

    form.addEventListener("submit", function (e) {
      e.preventDefault();

      // ולידציה למייל
      const email = emailInput.value.trim();
      const emailValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);

      if (!emailValid) {
        emailError.textContent = "יש להזין כתובת אימייל תקינה";
        emailError.style.display = "block";
        emailInput.focus();
        return;
      } else {
        emailError.textContent = "";
        emailError.style.display = "none";
      }

      btn.disabled = true;
      btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> שולח...';
      response.textContent = "";
      response.className = "form-response";

      const formData = {
        name: document.getElementById("name").value,
        phone: document.getElementById("phone").value,
        email: email,
        area: document.getElementById("area").value,
        message: document.getElementById("message").value,
      };

      emailjs.send("service_45f1wyc", "template_e02sg8p", formData)
        .then(function () {
          btn.innerHTML = '<i class="fas fa-check-circle"></i> נשלח בהצלחה';
          response.textContent = "ההודעה נשלחה בהצלחה!";
          response.classList.add("success");
          form.reset();
        }, function (error) {
          btn.innerHTML = '<i class="fas fa-times-circle"></i> שגיאה';
          response.textContent = "אירעה שגיאה בשליחה: " + (error?.text || error?.message || "שגיאה לא ידועה");
          response.classList.add("error");
          console.error("EmailJS Error:", error);
        })
        .finally(() => {
          btn.disabled = false;
        });
    });
  </script>

</body>
</html>
